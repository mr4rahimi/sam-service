---
type ServiceKey = "laptop" | "mobile" | "monitor" | "home" | "av" | "camera";

const items: {
  key: ServiceKey;
  title: string;
  desc: string;
  href: string;
}[] = [
  { key: "laptop", title: "تعمیر لپ تاپ سامسونگ", desc: "مشکلات روشن نشدن، تصویر، شارژ، کندی و ...", href: "#laptop" },
  { key: "mobile", title: "تعمیر تبلت و موبایل", desc: "تعویض باتری، صفحه، سوکت شارژ و ...", href: "#mobile" },
  { key: "monitor", title: "تعمیر مانیتور سامسونگ", desc: "تصویر، بک لایت، پیکسل سوخته و ...", href: "#services" },

  { key: "home", title: "تعمیر لوازم خانگی سامسونگ", desc: "یخچال، لباسشویی، ظرفشویی، مایکروویو و ...", href: "#appliances" },
  { key: "av", title: "تعمیر صوتی و تصویری", desc: "تلویزیون، ساندبار، سینمای خانگی، اسپیکر و ...", href: "#tv" },
  { key: "camera", title: "تعمیر دوربین عکاسی و فیلمبرداری", desc: "لنز، سنسور، فوکوس، برد، باتری و ...", href: "#services" },
];

function icon(key: ServiceKey): string {
  switch (key) {
    case "laptop":
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M7 6h10a2 2 0 012 2v7H5V8a2 2 0 012-2z" stroke="currentColor" stroke-width="1.8" />
        <path d="M4 18h16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>`;
    case "mobile":
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M9 4h6a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V6a2 2 0 012-2z" stroke="currentColor" stroke-width="1.8"/>
        <path d="M11 17h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>`;
    case "monitor":
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M5 6h14a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2z" stroke="currentColor" stroke-width="1.8"/>
        <path d="M10 20h4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>`;
    case "home":
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 10.5l8-6 8 6V20a2 2 0 01-2 2H6a2 2 0 01-2-2v-9.5z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
        <path d="M10 22v-7h4v7" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
      </svg>`;
    case "av":
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M6 8h12a2 2 0 012 2v8H4v-8a2 2 0 012-2z" stroke="currentColor" stroke-width="1.8"/>
        <path d="M8.5 12.5h.01M12 12.5h.01M15.5 12.5h.01" stroke="currentColor" stroke-width="2.6" stroke-linecap="round"/>
        <path d="M9 6h6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>`;
    case "camera":
    default:
      return `<svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M7 7h2l1-2h4l1 2h2a3 3 0 013 3v7a3 3 0 01-3 3H7a3 3 0 01-3-3v-7a3 3 0 013-3z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/>
        <path d="M12 17a3 3 0 100-6 3 3 0 000 6z" stroke="currentColor" stroke-width="1.8"/>
      </svg>`;
  }
}
---

<section class="svc mt-10" id="services-teaser">
  <div class="svc-head">
    <h2 class="svc-title">خدمات تعمیرات سامسونگ</h2>
    <a class="svc-link" href="/services">رفتن به صفحه خدمات</a>
  </div>

  <div class="svc-grid">
    {items.map((it) => (
      <a href={it.href} class="svc-card" aria-label={it.title}>
        <div class="svc-led" aria-hidden="true"></div>
        <div class="svc-led2" aria-hidden="true"></div>

        <div class="svc-top">
          <div class="svc-ico" set:html={icon(it.key)} />
          <div class="svc-text">
            <div class="svc-name">{it.title}</div>
            <p class="svc-desc">{it.desc}</p>
          </div>
        </div>

        <div class="svc-foot">
          <span class="svc-cta">مشاهده جزئیات</span>
          <span class="svc-arrow" aria-hidden="true">↙</span>
        </div>

        <div class="svc-sheen" aria-hidden="true"></div>
      </a>
    ))}
  </div>
</section>

<style>
  /* Samsung-ish blue palette */
  .svc {
    --sx: 0, 200, 255; /* cyan-blue */
    --sb: 0, 150, 255; /* deeper blue */
  }

  .svc-head {
    display: flex;
    align-items: end;
    justify-content: space-between;
    gap: 12px;
  }

  .svc-title {
    font-size: 1.25rem;
    font-weight: 900;
  }

  .svc-link {
    font-size: 0.9rem;
    color: rgba(120, 220, 255, 0.95);
    text-decoration: none;
    transition: color 180ms ease, transform 180ms ease;
    white-space: nowrap;
  }

  .svc-link:hover {
    color: rgba(170, 240, 255, 0.98);
    transform: translateY(-1px);
  }

  .svc-grid {
    margin-top: 18px;
    display: grid;
    gap: 14px;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .svc-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (min-width: 1024px) {
    .svc-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
    }
  }

  /* -------- Card (different look than Features) -------- */
  .svc-card {
    position: relative;
    overflow: hidden;
    border-radius: 26px;
    padding: 18px;
    text-decoration: none;

    background:
      radial-gradient(900px 450px at 20% 0%, rgba(255,255,255,0.06), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,0.045), rgba(255,255,255,0.03));

    border: 1px solid rgba(255,255,255,0.10);
    box-shadow:
      0 18px 60px rgba(0,0,0,0.42),
      inset 0 1px 0 rgba(255,255,255,0.12);

    transform: translateZ(0);
    transition: transform 240ms ease, box-shadow 240ms ease, border-color 240ms ease;
  }

  .svc-card:hover {
    transform: translateY(-3px);
    border-color: rgba(255,255,255,0.14);
    box-shadow:
      0 26px 80px rgba(0,0,0,0.52),
      inset 0 1px 0 rgba(255,255,255,0.14);
  }

  .svc-top {
    position: relative;
    display: grid;
    grid-template-columns: 52px 1fr;
    gap: 12px;
    align-items: start;
    z-index: 2;
  }

  .svc-ico {
    width: 52px;
    height: 52px;
    border-radius: 20px;
    display: grid;
    place-items: center;
    color: rgba(var(--sx), 0.96);

    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow:
      0 18px 55px rgba(0,0,0,0.42),
      inset 0 1px 0 rgba(255,255,255,0.12);
  }

  .svc-ico :global(svg) {
    width: 26px;
    height: 26px;
  }

  .svc-name {
    font-size: 1rem;
    font-weight: 950;
    color: rgba(241,245,249,0.98);
  }

  .svc-desc {
    margin-top: 6px;
    font-size: 0.9rem;
    line-height: 1.75;
    color: rgba(226,232,240,0.78);
  }

  .svc-foot {
    position: relative;
    z-index: 2;
    margin-top: 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: rgba(var(--sx), 0.92);
  }

  .svc-cta {
    font-size: 0.9rem;
    font-weight: 800;
    letter-spacing: 0.01em;
  }

  .svc-arrow {
    width: 34px;
    height: 34px;
    border-radius: 14px;
    display: grid;
    place-items: center;

    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.12);
    color: rgba(var(--sx), 0.95);
    transition: transform 240ms ease, background-color 240ms ease;
  }

  .svc-card:hover .svc-arrow {
    transform: translateX(-2px);
    background: rgba(255,255,255,0.055);
  }

  /* Shiny sweep */
  .svc-sheen {
    position: absolute;
    inset: -40%;
    background: linear-gradient(
      110deg,
      transparent 35%,
      rgba(255,255,255,0.10) 45%,
      rgba(255,255,255,0.02) 55%,
      transparent 65%
    );
    transform: translateX(-35%) rotate(10deg);
    opacity: 0;
    transition: opacity 240ms ease, transform 700ms ease;
    pointer-events: none;
    z-index: 1;
  }

  .svc-card:hover .svc-sheen {
    opacity: 1;
    transform: translateX(25%) rotate(10deg);
  }

  /* -------- LED: different style (double rim + moving line) -------- */
  .svc-led,
  .svc-led2 {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
  }

  /* Outer animated rim (moving head) */
  .svc-led {
    padding: 2px;
    background:
      conic-gradient(
        from var(--a),
        rgba(var(--sx), 0) 0deg,
        rgba(var(--sx), 0) 288deg,
        rgba(var(--sx), 0.55) 312deg,
        rgba(var(--sx), 1.00) 328deg,
        rgba(var(--sx), 0.55) 344deg,
        rgba(var(--sx), 0) 360deg
      );
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    mix-blend-mode: screen;
    filter: saturate(1.3);
    opacity: 0.95;
    animation: led-rot 5.6s linear infinite;
  }

  /* Inner rim + soft bloom */
  .svc-led2 {
    inset: -28%;
    background:
      conic-gradient(
        from var(--a),
        rgba(var(--sb), 0) 0deg,
        rgba(var(--sb), 0) 300deg,
        rgba(var(--sb), 0.35) 325deg,
        rgba(var(--sx), 0.65) 338deg,
        rgba(var(--sb), 0.35) 352deg,
        rgba(var(--sb), 0) 360deg
      );
    filter: blur(16px) saturate(1.3);
    opacity: 0.65;
    mix-blend-mode: screen;
    animation: led-rot 5.6s linear infinite;
  }

  @property --a {
    syntax: "<angle>";
    inherits: false;
    initial-value: 0deg;
  }

  @keyframes led-rot {
    to { --a: 360deg; }
  }

  @media (prefers-reduced-motion: reduce) {
    .svc-led,
    .svc-led2,
    .svc-sheen {
      animation: none;
      transition: none;
    }
  }
</style>
